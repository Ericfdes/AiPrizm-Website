{% extends 'website/base.html' %}
{% load static %}
{% block title %}Contact Us{% endblock title %}


 
  

{% block content %}

<section class="page-title bg-1">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="block text-center">
          <span class="text-white">Contact Us</span>
          <h1 class="text-capitalize mb-4 text-lg">Get in Touch</h1>
          <ul class="list-inline">
            <li class="list-inline-item"><a href="/" class="text-white">Home</a></li>
            <li class="list-inline-item"><span class="text-white">/</span></li>
            <li class="list-inline-item text-white-50">Contact Us</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- contact form start -->
<section class="contact-form-wrap section">
	<div class="container">
		<div class="row">
			<div class="col-lg-6 col-md-12 col-sm-12">
				
				<form id="contact-form" class="contact__form" method="post" role=form action="">
					{% csrf_token %}
					<h3 class="text-md mb-4">Contact Form</h3>
					
				
					{{ contact_form.non_field_errors }}
					<div class="form-group">
						{{form.name.errors }}
						{{form.name }}

						{% comment %} <input name="name" type="text" class="form-control" placeholder="Name" required> {% endcomment %}
					</div>
					<div class="form-group">
						{{form.email.errors }}
						{{form.email }}
						{% comment %} <input name="email" type="email" class="form-control" placeholder="Email" required> {% endcomment %}
					</div>
					<div class="form-group">
						{{form.subject.errors }}
						{{form.subject }}
						{% comment %} <input name="subject" type="text" class="form-control" placeholder="subject" required> {% endcomment %}
					</div>
					
					<div class="form-group-2 mb-4">
						{{form.message.errors }}
						{{form.message }}
						{% comment %} <textarea name="message" class="form-control" rows="4" placeholder="Message" required></textarea> {% endcomment %}
					</div>
					<div class="col-md-12 text-center">
						<div class="loading">Loading</div>
						<div class="error-message">Oops! There was an issue. Please mail us at
							aiprizmtech@gmail.com
						</div>
						<div class="sent-message">Your message has been sent, we will get back to you. Thank
							you!
						</div>

					
					</div>

						<button class="btn btn-main" name="submit" type="submit">Send Message</button>
					
				</form>

			</div>

			<div class="col-lg-5 col-sm-12">
				<div class="contact-content pl-lg-5 mt-5 mt-lg-0">
					<span class="text-muted">We are Professionals</span>
					<h2 class="mb-5 mt-2">Donâ€™t Hesitate to contact with us for any kind of information</h2>

					<ul class="address-block list-unstyled">
						<li>
							<i class="ti-direction mr-3"></i>North Main Street,Brooklyn Australia
						</li>
						<li>
							<i class="ti-email mr-3"></i>Email: contact@mail.com
						</li>
						<li>
							<i class="ti-mobile mr-3"></i>Phone:+88 01672 506 744
						</li>
					</ul>

					<ul class="social-icons list-inline mt-5">
						<li class="list-inline-item">
							<a href="http://www.themefisher.com"><i class="fab fa-facebook-f"></i></a>
						</li>
						<li class="list-inline-item">
							<a href="http://www.themefisher.com"><i class="fab fa-twitter"></i></a>
						</li>
						<li class="list-inline-item">
							<a href="http://www.themefisher.com"><i class="fab fa-linkedin-in"></i></a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</section>

<div class="google-map">
	<div id="map" data-latitude="40.712776" data-longitude="-74.005974" data-marker="images/marker.png" data-marker-name="Megakit"></div>
</div>




{% block page_js %}
<script type='text/javascript'>

  $(document).ready(function(){

    // AJAX for posting
    function contact_us() {
        $.ajax({
            headers: {'X-Requested-With': 'XMLHttpRequest'},
            url : "{% url 'contact' %}", // the endpoint
            type : "POST", // http method
            data : {
              name: $('#id_name').val(),
              subject: $('#id_subject').val(),
              email: $('#id_email').val(),
              message: $('#id_message').val(),
              csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val(),
            }, // data sent with the post request
            // handle a successful response
            success : function(json) {
                $('#id_name').val(''); // remove the value from the input
                $('#id_subject').val(''); // remove the value from the input
                $('#id_email').val(''); // remove the value from the input
                $('#id_message').val('');
                $(".sent-message").addClass("d-block")
            },

            // handle a non-successful response
            error : function(xhr,errmsg,err) {
                $(".error-message").addClass("d-block")
                //console.log(xhr.status + ": " + xhr.responseText); // provide a bit more info about the error to the console
            }
        });
    }

    // Submit post on submit
    $('.php-email-form').off().on('submit', function(event){
        event.preventDefault();
        contact_us();
    });

    $('.portfolio').hide();
    $('.testimonials').hide();
    $('.recent-blog-posts').hide();

})


</script>

{% endblock page_js %}
{% endblock content%}